<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="cercospoRa">
<title>Getting-started • cercospoRa</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting-started">
<meta property="og:description" content="cercospoRa">
<meta property="og:image" content="https://paulmelloy.github.io/cercospoRa/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cercospoRa</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9002</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Getting-started.html">Getting-started</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting-started</h1>
            
      
      
      <div class="d-none name"><code>Getting-started.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://paulmelloy.github.io/cercospoRa/">cercospoRa</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></code></pre></div>
<p>The <code>cercospoRa</code> package estimates the proportional
progress towards a <em>Cercospora beticola</em> epidemic on sugarbeet.
This requires formated hourly weather data that the model recognises.
The R package <code>epiphytoolR</code> contains functions which
automatically checks the weather data and returns it in the required
hourly format.</p>
<p>We will need to install epiphytoolR</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install stationaRy package if it is not installed</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="st">"epiphytoolR"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">==</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"PaulMelloy/epiphytoolR"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://paulmelloy.github.io/epiphytoolR/" class="external-link">epiphytoolR</a></span><span class="op">)</span></span></code></pre></div>
<p>Next lets download some weather data using the R package
<code>nasapower</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install stationaRy package if it is not installed</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="st">"nasapower"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">==</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"nasapower"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/nasapower/" class="external-link">nasapower</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">np</span> <span class="op">&lt;-</span> <span class="fu">get_power</span><span class="op">(</span></span>
<span>  community <span class="op">=</span> <span class="st">"ag"</span>,</span>
<span>  pars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"RH2M"</span>, <span class="co"># Relative humidity at 2 meters</span></span>
<span>    <span class="st">"T2M"</span>, <span class="co"># Air temperature at 2 meters</span></span>
<span>    <span class="st">"WS2M"</span>, <span class="co"># wind speed at 2 meters,</span></span>
<span>    <span class="st">"WD2M"</span>,<span class="co"># wind direction at 2 meters,</span></span>
<span>    <span class="st">"PRECTOTCORR"</span>,</span>
<span>    <span class="st">"ALLSKY_SFC_SW_DWN"</span>, <span class="co"># short wave downward solar radiation at the earth surface</span></span>
<span>    <span class="st">"ALLSKY_SFC_LW_DWN"</span>, <span class="co"># long wave downward solar radiation at the earth surface</span></span>
<span>    <span class="st">"PS"</span>, <span class="co"># surface pressure</span></span>
<span>    <span class="st">"ALLSKY_SRF_ALB"</span> <span class="co"># Surface albedo</span></span>
<span>  <span class="op">)</span>,</span>
<span>  temporal_api <span class="op">=</span> <span class="st">"hourly"</span>,</span>
<span>  lonlat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9.916</span>,<span class="fl">51.41866</span><span class="op">)</span>,</span>
<span>  dates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2018-02-01"</span>, <span class="st">"2022-12-08"</span><span class="op">)</span>,</span>
<span>  time_standard <span class="op">=</span> <span class="st">"UTC"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># set as a data.table</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setDT.html" class="external-link">setDT</a></span><span class="op">(</span><span class="va">np</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># give the weather data a station name</span></span>
<span><span class="va">np</span><span class="op">$</span><span class="va">station</span> <span class="op">&lt;-</span> <span class="st">"Belgium"</span></span>
<span><span class="co"># provide a wind direction standard deviation</span></span>
<span><span class="va">np</span><span class="op">$</span><span class="va">WDSD</span> <span class="op">&lt;-</span> <span class="fl">20</span></span>
<span></span>
<span><span class="co"># format weather</span></span>
<span><span class="va">w_beau</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://paulmelloy.github.io/epiphytoolR/reference/format_weather.html" class="external-link">format_weather</a></span><span class="op">(</span><span class="va">np</span>,</span>
<span>                 time_zone <span class="op">=</span> <span class="st">"UTC"</span>,</span>
<span>                 temp <span class="op">=</span> <span class="st">"T2M"</span>,</span>
<span>                 rain <span class="op">=</span> <span class="st">"PRECTOTCORR"</span>,</span>
<span>                 YYYY <span class="op">=</span> <span class="st">"YEAR"</span>,</span>
<span>                 MM <span class="op">=</span> <span class="st">"MO"</span>,</span>
<span>                 DD <span class="op">=</span> <span class="st">"DY"</span>,</span>
<span>                 hh <span class="op">=</span> <span class="st">"HR"</span>,</span>
<span>                 rh <span class="op">=</span> <span class="st">"RH2M"</span>,</span>
<span>                 ws <span class="op">=</span> <span class="st">"WS2M"</span>,</span>
<span>                 wd <span class="op">=</span> <span class="st">"WD2M"</span>,</span>
<span>                 wd_sd <span class="op">=</span> <span class="st">"WDSD"</span>,</span>
<span>                 station <span class="op">=</span> <span class="st">"station"</span>,</span>
<span>                 lon <span class="op">=</span> <span class="st">"LON"</span>, </span>
<span>                 lat <span class="op">=</span> <span class="st">"LAT"</span></span>
<span>                 <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/calc_epidemic_onset.html">calc_epidemic_onset</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2022-04-25"</span>,tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span>,</span>
<span>                    end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2022-09-30"</span>,tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span>,</span>
<span>                    c_closure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2022-07-01"</span>,tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span>,</span>
<span>                    weather <span class="op">=</span> <span class="va">w_beau</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="format-weather-station-data">Format weather station data<a class="anchor" aria-label="anchor" href="#format-weather-station-data"></a>
</h3>
<p>This is data recorded by a weather station and contributed by Facundo
Ramón Ispizua Yamati and is from a sugarbeet field trial.</p>
<p>We will format the data so the model functions can recognise the data
and won’t return errors due to inconsistencies and NAs which are common
in weather data. This will require the user to think about how to
replace the NAs or state default values to complete the dataset.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># format to data.table</span></span>
<span><span class="va">wthr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span><span class="va">weathr</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use POSIXct formatted time.</span></span>
<span><span class="va">wthr</span><span class="op">[</span>,<span class="va">Time</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">Datum</span>, <span class="st">" "</span>,<span class="va">Stunde</span>,<span class="st">":00"</span><span class="op">)</span>,tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Nominate Latitude and Longitude location of the weather station. </span></span>
<span><span class="co"># While not needed in cercospoRa some plant disease models will use location to </span></span>
<span><span class="co">#  decide the closest weather station to pull weather from</span></span>
<span><span class="va">wthr</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lon"</span>,<span class="st">"lat"</span><span class="op">)</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">9.916</span>,<span class="fl">51.41866</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># weather is hourly and will error if we don't specify a standard deviation of </span></span>
<span><span class="co">#  weather direction. This is intentional to force the user to decide how variable</span></span>
<span><span class="co">#  the wind direction data could be.</span></span>
<span><span class="va">wthr</span><span class="op">[</span>, <span class="va">wd_std</span> <span class="op">:=</span> <span class="fl">20</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># remove all data after September as it contains missing data</span></span>
<span><span class="va">wthr</span> <span class="op">&lt;-</span> <span class="va">wthr</span><span class="op">[</span><span class="va">Datum</span> <span class="op">&lt;</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2022-10-01"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># set NA wind speed values to zero</span></span>
<span><span class="va">wthr</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">WG200</span><span class="op">)</span>,<span class="va">WG200</span> <span class="op">:=</span> <span class="fl">0</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># set NA wind direction values to 20 degrees. Wind is not important for this model</span></span>
<span><span class="va">wthr</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">WR200</span><span class="op">)</span>,<span class="va">WR200</span> <span class="op">:=</span> <span class="fl">20</span><span class="op">]</span></span>
<span><span class="co">#&gt; Warning in `[.data.table`(wthr, is.na(WR200), `:=`(WR200, 20)): 20.000000 (type</span></span>
<span><span class="co">#&gt; 'double') at RHS position 1 taken as TRUE when assigning to type 'logical'</span></span>
<span><span class="co">#&gt; (column 10 named 'WR200')</span></span>
<span></span>
<span><span class="va">wthr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://paulmelloy.github.io/epiphytoolR/reference/format_weather.html" class="external-link">format_weather</a></span><span class="op">(</span><span class="va">wthr</span>,</span>
<span>                         POSIXct_time <span class="op">=</span> <span class="st">"Time"</span>,</span>
<span>                         time_zone <span class="op">=</span> <span class="st">"UTC"</span>,</span>
<span>                         temp <span class="op">=</span> <span class="st">"T200"</span>,</span>
<span>                         rain <span class="op">=</span> <span class="st">"N100"</span>,</span>
<span>                         rh <span class="op">=</span> <span class="st">"F200"</span>,</span>
<span>                         wd <span class="op">=</span> <span class="st">"WR200"</span>,</span>
<span>                         ws <span class="op">=</span> <span class="st">"WG200"</span>,</span>
<span>                         station <span class="op">=</span> <span class="st">"Station"</span>,</span>
<span>                         lon <span class="op">=</span> <span class="st">"lon"</span>,</span>
<span>                         lat <span class="op">=</span> <span class="st">"lat"</span>,</span>
<span>                         wd_sd <span class="op">=</span> <span class="st">"wd_std"</span>,</span>
<span>                         data_check <span class="op">=</span> <span class="cn">FALSE</span> <span class="co"># this stops the function from checking for faults</span></span>
<span>                         <span class="op">)</span></span>
<span><span class="co"># As the data is formatted closely enough for what is expected for the model. </span></span>
<span><span class="co"># We can elect to turn the data_check off so </span></span></code></pre></div>
<p>We can find the epidemic start date by calling the
<code><a href="../reference/calc_epidemic_onset.html">calc_epidemic_onset()</a></code> function. This function is a wrapper
for the <code><a href="../reference/calc_DIV.html">calc_DIV()</a></code> function which calculates the daily
infection values for both, Wolf and Racca methods.</p>
<p>This date is determined by the negative prognosis models to be the
last day for which a epidemic is likely not to start.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cercospoRa</span><span class="fu">::</span><span class="fu"><a href="../reference/calc_epidemic_onset.html">calc_epidemic_onset</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2022-04-25"</span>,tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span>,</span>
<span>                    end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2022-09-30"</span>,tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span>,</span>
<span>                    c_closure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2022-07-01"</span>,tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span>,</span>
<span>                    weather <span class="op">=</span> <span class="va">wthr</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2022-08-21 UTC"</span></span></code></pre></div>
<p><code><a href="../reference/calc_DIV.html">calc_DIV()</a></code> will do this for all the days in the weather
data frame provided, starting at the first day, integrating over the
hourly data.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">divalues</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_DIV.html">calc_DIV</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">wthr</span><span class="op">[</span><span class="va">times</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2022-07-01"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># we take the cumulative sum of the daily infection values to monitor the increasing</span></span>
<span><span class="co"># risk of infection from cercospora</span></span>
<span><span class="va">divalues</span><span class="op">[</span>, <span class="va">DIV_sum</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="va">DIV</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">divalues</span></span>
<span><span class="co">#&gt;      Year Month   Day          DIV    DIV_sum</span></span>
<span><span class="co">#&gt;     &lt;int&gt; &lt;int&gt; &lt;int&gt;        &lt;num&gt;      &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:  2022     7     1 6.467998e-02 0.06467998</span></span>
<span><span class="co">#&gt;  2:  2022     7     2 6.372405e-02 0.12840402</span></span>
<span><span class="co">#&gt;  3:  2022     7     3 1.616653e-02 0.14457055</span></span>
<span><span class="co">#&gt;  4:  2022     7     4 2.761211e-02 0.17218267</span></span>
<span><span class="co">#&gt;  5:  2022     7     5 4.703296e-02 0.21921563</span></span>
<span><span class="co">#&gt;  6:  2022     7     6 3.361667e-02 0.25283229</span></span>
<span><span class="co">#&gt;  7:  2022     7     7 1.898529e-01 0.44268523</span></span>
<span><span class="co">#&gt;  8:  2022     7     8 2.913846e-02 0.47182369</span></span>
<span><span class="co">#&gt;  9:  2022     7     9 1.865750e-01 0.65839867</span></span>
<span><span class="co">#&gt; 10:  2022     7    10 5.661331e-02 0.71501197</span></span>
<span><span class="co">#&gt; 11:  2022     7    11 2.483673e-01 0.96337924</span></span>
<span><span class="co">#&gt; 12:  2022     7    12 1.898699e-01 1.15324913</span></span>
<span><span class="co">#&gt; 13:  2022     7    13 0.000000e+00 1.15324913</span></span>
<span><span class="co">#&gt; 14:  2022     7    14 0.000000e+00 1.15324913</span></span>
<span><span class="co">#&gt; 15:  2022     7    15 1.027432e-02 1.16352345</span></span>
<span><span class="co">#&gt; 16:  2022     7    16 2.512740e-02 1.18865086</span></span>
<span><span class="co">#&gt; 17:  2022     7    17 8.829433e-03 1.19748029</span></span>
<span><span class="co">#&gt; 18:  2022     7    18 9.059728e-03 1.20654002</span></span>
<span><span class="co">#&gt; 19:  2022     7    19 2.064402e-02 1.22718403</span></span>
<span><span class="co">#&gt; 20:  2022     7    20 0.000000e+00 1.22718403</span></span>
<span><span class="co">#&gt; 21:  2022     7    21 1.821096e-01 1.40929365</span></span>
<span><span class="co">#&gt; 22:  2022     7    22 1.643531e-01 1.57364675</span></span>
<span><span class="co">#&gt; 23:  2022     7    23 2.286810e-01 1.80232776</span></span>
<span><span class="co">#&gt; 24:  2022     7    24 7.961018e-02 1.88193794</span></span>
<span><span class="co">#&gt; 25:  2022     7    25 1.341585e-01 2.01609644</span></span>
<span><span class="co">#&gt; 26:  2022     7    26 7.888337e-02 2.09497980</span></span>
<span><span class="co">#&gt; 27:  2022     7    27 6.577123e-03 2.10155693</span></span>
<span><span class="co">#&gt; 28:  2022     7    28 4.436940e-02 2.14592633</span></span>
<span><span class="co">#&gt; 29:  2022     7    29 1.225385e-14 2.14592633</span></span>
<span><span class="co">#&gt; 30:  2022     7    30 3.766941e-01 2.52262042</span></span>
<span><span class="co">#&gt; 31:  2022     7    31 2.608277e-01 2.78344814</span></span>
<span><span class="co">#&gt; 32:  2022     8     1 3.397666e-01 3.12321478</span></span>
<span><span class="co">#&gt; 33:  2022     8     2 1.739951e-01 3.29720986</span></span>
<span><span class="co">#&gt; 34:  2022     8     3 1.168911e-01 3.41410099</span></span>
<span><span class="co">#&gt; 35:  2022     8     4 1.288619e-01 3.54296289</span></span>
<span><span class="co">#&gt; 36:  2022     8     5 2.752599e-01 3.81822282</span></span>
<span><span class="co">#&gt; 37:  2022     8     6 7.805857e-02 3.89628139</span></span>
<span><span class="co">#&gt; 38:  2022     8     7 2.739677e-02 3.92367815</span></span>
<span><span class="co">#&gt; 39:  2022     8     8 3.292698e-02 3.95660513</span></span>
<span><span class="co">#&gt; 40:  2022     8     9 3.012155e-02 3.98672668</span></span>
<span><span class="co">#&gt; 41:  2022     8    10 4.208786e-02 4.02881454</span></span>
<span><span class="co">#&gt; 42:  2022     8    11 2.377851e-02 4.05259305</span></span>
<span><span class="co">#&gt; 43:  2022     8    12 7.816778e-03 4.06040983</span></span>
<span><span class="co">#&gt; 44:  2022     8    13 8.121120e-03 4.06853095</span></span>
<span><span class="co">#&gt; 45:  2022     8    14 1.705954e-01 4.23912636</span></span>
<span><span class="co">#&gt; 46:  2022     8    15 1.795556e-01 4.41868192</span></span>
<span><span class="co">#&gt; 47:  2022     8    16 9.686047e-02 4.51554239</span></span>
<span><span class="co">#&gt; 48:  2022     8    17 8.668164e-02 4.60222403</span></span>
<span><span class="co">#&gt; 49:  2022     8    18 1.795616e-01 4.78178568</span></span>
<span><span class="co">#&gt; 50:  2022     8    19 0.000000e+00 4.78178568</span></span>
<span><span class="co">#&gt; 51:  2022     8    20 1.297168e-01 4.91150250</span></span>
<span><span class="co">#&gt; 52:  2022     8    21 1.525906e-01 5.06409305</span></span>
<span><span class="co">#&gt; 53:  2022     8    22 3.859428e-02 5.10268733</span></span>
<span><span class="co">#&gt; 54:  2022     8    23 0.000000e+00 5.10268733</span></span>
<span><span class="co">#&gt; 55:  2022     8    24 2.709277e-02 5.12978010</span></span>
<span><span class="co">#&gt; 56:  2022     8    25 4.083692e-02 5.17061702</span></span>
<span><span class="co">#&gt; 57:  2022     8    26 3.044243e-02 5.20105945</span></span>
<span><span class="co">#&gt; 58:  2022     8    27 2.968959e-01 5.49795532</span></span>
<span><span class="co">#&gt; 59:  2022     8    28 0.000000e+00 5.49795532</span></span>
<span><span class="co">#&gt; 60:  2022     8    29 2.598153e-02 5.52393685</span></span>
<span><span class="co">#&gt; 61:  2022     8    30 5.280318e-02 5.57674003</span></span>
<span><span class="co">#&gt; 62:  2022     8    31 6.052383e-02 5.63726386</span></span>
<span><span class="co">#&gt; 63:  2022     9     1 8.324165e-03 5.64558802</span></span>
<span><span class="co">#&gt; 64:  2022     9     2 0.000000e+00 5.64558802</span></span>
<span><span class="co">#&gt; 65:  2022     9     3 2.304024e-03 5.64789205</span></span>
<span><span class="co">#&gt; 66:  2022     9     4 1.002277e-02 5.65791482</span></span>
<span><span class="co">#&gt; 67:  2022     9     5 0.000000e+00 5.65791482</span></span>
<span><span class="co">#&gt; 68:  2022     9     6 0.000000e+00 5.65791482</span></span>
<span><span class="co">#&gt; 69:  2022     9     7 3.131487e-02 5.68922968</span></span>
<span><span class="co">#&gt; 70:  2022     9     8 4.610588e-01 6.15028848</span></span>
<span><span class="co">#&gt; 71:  2022     9     9 1.214585e-01 6.27174697</span></span>
<span><span class="co">#&gt; 72:  2022     9    10 2.133254e-01 6.48507242</span></span>
<span><span class="co">#&gt; 73:  2022     9    11 2.732030e-01 6.75827539</span></span>
<span><span class="co">#&gt; 74:  2022     9    12 1.079017e-01 6.86617714</span></span>
<span><span class="co">#&gt; 75:  2022     9    13 2.278854e-01 7.09406255</span></span>
<span><span class="co">#&gt; 76:  2022     9    14 4.626732e-01 7.55673576</span></span>
<span><span class="co">#&gt; 77:  2022     9    15 1.486628e-01 7.70539860</span></span>
<span><span class="co">#&gt; 78:  2022     9    16 2.429148e-02 7.72969007</span></span>
<span><span class="co">#&gt; 79:  2022     9    17 5.968021e-02 7.78937028</span></span>
<span><span class="co">#&gt; 80:  2022     9    18 4.189155e-02 7.83126183</span></span>
<span><span class="co">#&gt; 81:  2022     9    19 9.403906e-02 7.92530089</span></span>
<span><span class="co">#&gt; 82:  2022     9    20 1.101720e-01 8.03547292</span></span>
<span><span class="co">#&gt; 83:  2022     9    21 6.698103e-02 8.10245395</span></span>
<span><span class="co">#&gt; 84:  2022     9    22 3.503757e-02 8.13749152</span></span>
<span><span class="co">#&gt; 85:  2022     9    23 3.478118e-02 8.17227271</span></span>
<span><span class="co">#&gt; 86:  2022     9    24 1.252690e-01 8.29754166</span></span>
<span><span class="co">#&gt; 87:  2022     9    25 1.404458e-01 8.43798749</span></span>
<span><span class="co">#&gt; 88:  2022     9    26 4.117044e-02 8.47915793</span></span>
<span><span class="co">#&gt; 89:  2022     9    27 1.133427e-01 8.59250067</span></span>
<span><span class="co">#&gt; 90:  2022     9    28 6.598985e-02 8.65849053</span></span>
<span><span class="co">#&gt; 91:  2022     9    29 5.373660e-02 8.71222713</span></span>
<span><span class="co">#&gt; 92:  2022     9    30 4.827917e-02 8.76050630</span></span>
<span><span class="co">#&gt;      Year Month   Day          DIV    DIV_sum</span></span></code></pre></div>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Paul Melloy, Rene Heim.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
